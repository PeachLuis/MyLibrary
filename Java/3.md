# 1. 控制流程

## 1.1 块作用域

1. 由一对大括号括起来的若干条简单语句叫块；
2. 块可以嵌套，但是不能在嵌套的两个块中声明同名的变量；（注：在c++中在嵌套的语句中重定义一个变量，内层定义的变量会覆盖外层定义的变量，java认为这样可能会导致程序设计错误，因此不允许这样做）
3. 块中定义的变量一般生命周期只覆盖该块及其嵌套的子块，除非是常量和类变量；

```java
public void method(){
    {
        int b = 10;
        System.out.println(b);
    }
    System.out.println(b);	//b不存在了，编译报错
}
```



## 1.2 条件语句

1. if-else 基本的条件语句，可以嵌套、多层使用

   



## 1.3 循环

1. while语句
2. do-while语句



### 1.4 确定循环

1. for循环

2. 注意：for循环使用浮点数的时候需要注意，由于0.1无法精确地用二进制表示，所以可能由于舍入的误差，最终得到到精确值，程序可能永远不会结束。

3. 计算从n个数字中随机抽取k个数字，使用如下方法:

   ```java
   int lotteryOdds = 1;
   for(int i=0; i<k; i++)
   {
   	lotteryOdds = lotteryOdds * (n-i+1)/i;
   }
   ```

4. for each循环：依次处理数组中的每个元素，而不必为指定下标值而分心（其实是迭代器Iterator的实现）

   ```java
   	for(变量 : 集合/实现了Iterable接口的类对象)
       {
   		statement;
           ...
       }
   	//例如：
   	for(int element ; a)
       {
   		System.out.println(element);
       }
   	
   ```

   我们知道了可以用循环语句来进行打印数组内容，这里还有一种更方便的方式，采用java.util包内的Arrays类中的toString方法，即可返回一个包含数组元素的字符串，这些元素被放置在括号内，用逗号分隔（针对基本数据类型数组或者多重数组，有一个toString（Object[]）的方法，但是只会输出引用对象的地址

   ```java
   	int[] a= {2,5,8,6};
   	System.out.println(Arrays.toString(a));
   	//输出：[2,5,8,6]
   ```



## 1.5 多重选择：switch语句

```java
	//例子
	Scanner in = new Scanner(System.in);
	System.out.println("请输入一个选项：1，2，3/n");
	int choice = in.nextInt();
	switch(choice)
    {
        case 1:
            ...;
            break;
        case 2:
            ...;
            break;
        case 3:
            ...;
            break;
        default:
            ...;
            break;
    }
```

注意：

1. 特别注意break的书写，如果不添加break，程序就会一直执行后面的case语句，例如，都不写break，如果输入1，则程序会执行case1，2，3，default的语句内容。
2. case标签可以是**char、byte、short或int的常量表达式或者其包装类，枚举常量**，从java SE 7 开始，还可以是字符串字面量，其他的数据类型不支持，**所以浮点类型也是不支持的**；



# 2. 大数值

1. 由于基本的整型和浮点型数据类型不能够满足需求，所以可以使用java.math包中的两个类：

   **BigInteger，BigDecimal**

   可以处理任意长度数字序列的数值

2. 可以使用静态的valueOf方法将普通的数值转换为大数值：

   ```java
   	BigInteger a = BigInteger.valueOf(100);
   ```

3. 不能使用人们熟悉的（+，-，*，/，%）操作符，因为是自定义的类，需要使用对应的方法进行运算；



# 3. 数组

数组中常用使用方式如下：

```java
	int[] a;	//声明一个整型数组a
	int[] a = new int[10];	//实例化一个长度为10的整型数组
	int[] b = {1，5，6，4，4};	//或采取这种方式实例化，不需要用到new
	int[] b = new int[]{1，5，6，4，4};	//也可以加上new操作
	System.out.println(a.length);	//得到数组的长度
```

1. 创建一个数组后，如果没有初始化数组中的值，会自动初始化为默认值：整型为0，浮点型为0.0，char为空，布尔型为false，String及其他引用类型为null；
2. 一旦创建了数组，就不能再改变它的长度，如果需要再运行过程中改变数组长度，需要用到另外一种数据结构----数组列表（ArrayList）；
3. 数组的输出可以使用循环遍历，也可以使用java.util包中的Arrays类中的toString方法：Arrays.toString()；
4. 匿名数组
5. 在java中，允许数组长度为0。注意，数组长度为0

## 3.1 数组和字符串的相互转换

1. 基本类型转字符串：

   1. 使用Arrays.toString()方法，得到的字符串为中括号括起，中间逗号隔开，**此方法对所有基本数据类型甚至是String或者其他自定义引用类型都适用**，的如：[1,2,3]
   2. 如果是多维数组，则使用Arrays.deepToString()方法
   3. 使用StringBuffer或者StringBuilder类，利用循环来构造字符串，不推荐使用String来构造，因为String为不可变字符，将数组中元素依次进String中，每一次都会产生新的字符串，空间消耗大（虽然我们知道一条比较短的使用“+”连接的String字符串在jdk1.5之后会被默认的转化为StringBuilder，几乎没有什么损耗，但是在循环的时候，如果你仍旧使用“+”来修改String，那对内存的损耗是巨大的）

2. 字符串转基本类型数组（只能转换为char数组）：

   1. 使用String类的toCharArray（）方法，一行代码解决

   2. 使用StringBuffer或者StringBuilder类，通过循环赋值到新建char数值中。

   3. 每一个基本类型的包装类都有一个将指定字符串转为该包装类的方法，如

      ```java
      String a = "123";
      int num = Integer.parseInt(a);
      System.out.println(num + 3);	
      //输出：
      126
      ```

> 具体代码内容，参看Chapter3 / 3.10 / ExchangeTest



## 3.2 数组拷贝

1. 在java中，允许将一个数组变量拷贝给另一个数组变量，这时，两个变量将引用同一个数组（浅拷贝）

2. 如果要将一个数组的所有值拷贝到一个新的数组中去，可以使用Arrays类的copyOf方法（深拷贝）

   **注意：c++中深拷贝是使用new操作符即可，java中使用new操作符再进行拷贝，会提示多余；java中实现深拷贝使用Arrays.copyOf()方法（适用于所有基本类型和引用类型数组），或者你直接自己实现，创建新的同类型数组变量然后循环赋值**

3. 注意：java中的数组相当于c++中的指针，但是不能使用a++得到下一个元素（c++可以通过直接地址++得到下一位）



## 3.3 java.util.Arrays

这里简单提一下Arrays常用的API

```java
	1. static String toString(T[] a){}
		//返回a数组中所有数据元素的字符串，这些数据元素被放在[]中，用逗号分隔
		//对所有基本数据类型和和String适用，对其他自定义类不适用，只会输出其地址
	2. static T copyOf(T[] a, int length){}
	3. static T copyOf(T[] a, int start, int end){}
		//start	起始下标（包含这个值）
		//end	终止下标（不包含这个值）
		//适用于所有数据类型和引用类型的数组
	4. static void sort(T[] a){}
		//采用优化的快速排序对数组进行排序
	5. static int binarySearch(T[] a, T tag){}
	6. static int binarySearch(T[] a, int start, int end, T tag){}
		//采用二分查找查找tag，查找成功给出下标，否则返回一个负数
	7. static void fill(T[] a, T v){}
		//将数组的所有元素设置为v
	8. static boolean equals(T[] a, T[] b)
```



## 3.4 多维数组

1. 一般常用是二维数组（矩阵），其他多维几乎用不到

2. 二维数组声明方法

   ```java
   	int[][] a = new int[2][3];
   	
   	int[][] b = {
           {1,2,3,4},
           {2,5,9,6}
       };
   ```

3. 二维数组的处理（使用双重for循环）

   ```java
   		for (int i = 0; i < a.length; i++) {
               for (int j = 0; j < a[i].length; j++) {
                   ...
                   ...
               }
           }
   ```

4. for each循环语句不能自动处理二维数组的每一个元素，要访问二维数组所有元素，如下：

   ```java
   		for (int[] row : a) {
               for (int[] value : row) {
                   do someting with value
               }
           }	
   ```

5. 要想快速打印一个二维数组列表，可以调用**Arrays.deepToString（）**



## 3.5 不规则数组

1. 注意：虽然看起来java中的数组和其他语言差别不大，但是java实际上没有多维数组，只有一维数组，多维数组被解释为“**数组的数组**”。


